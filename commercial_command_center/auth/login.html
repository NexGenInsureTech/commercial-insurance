<!doctype html>
<html>
  <head>
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-slate-100 flex items-center justify-center h-screen">
    <div class="bg-white p-6 rounded shadow w-80">
      <h2 class="font-semibold mb-4">Login</h2>

      <input
        id="username"
        placeholder="Username"
        class="border p-2 w-full mb-4"
      />

      <button
        onclick="login()"
        class="bg-slate-900 text-white p-2 w-full rounded"
      >
        Enter
      </button>
    </div>

    <script src="../data/users.js"></script>
    <script>
      function login() {
        const uname = document.getElementById("username").value;
        const user = users.find((u) => u.username === uname);

        if (!user) {
          alert("Invalid user");
          return;
        }

        sessionStorage.setItem("user", user.username);
        sessionStorage.setItem("role", user.role);

        window.location.href = "../index.html";
      }
    </script>
  </body>
</html>
